name: H Pattern Commits

on:
  schedule:
    - cron: "30 2 * * *"  # Run daily at 8:00 AM IST
  workflow_dispatch:

jobs:
  commit-h-pattern:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repo
        uses: actions/checkout@v3

      - name: Conditionally Commit to Make H
        run: |
          TODAY=$(date +%Y-%m-%d)

          # Dates for H pattern in June (after 1st to 5th you already did)
          DATES=("2025-06-06" "2025-06-07"
                 "2025-06-08" "2025-06-10" "2025-06-12" "2025-06-14"
                 "2025-06-15" "2025-06-16" "2025-06-17" "2025-06-18" "2025-06-19" "2025-06-20" "2025-06-21"
                 "2025-06-22" "2025-06-24" "2025-06-26" "2025-06-28" "2025-06-29")

          if printf '%s\n' "${DATES[@]}" | grep -q "$TODAY"; then
            echo "// H Commit on $TODAY" >> hello.cpp
            git config --global user.name "Dixit Kumar"
            git config --global user.email "dixitkhanda1@gmail.com"
            git add hello.cpp
            git commit -m "H Commit on $TODAY"
            git push
          else
            echo "No H commit today ($TODAY)"
          fi
